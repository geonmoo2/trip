<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="/css/main/main.css">
    <link rel="stylesheet" type="text/css" href="/css/navbar.css">
    <link rel="stylesheet" href="/css/footer.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <style>
        .main1{

           width: 100%;
           height: 480px;
           border: 0px solid black;
           background-image: url("https://www.10wallpaper.com/wallpaper/1366x768/1403/beautiful_green_grass-Nature_Desktop_Wallpaper_1366x768.jpg");
           background-size: 100% 128%;
           margin-top: 100px;
        }
    </style>



</head>
<body>

    <th:block th:replace="~{fragments/nav :: navFragment}"></th:block>
    <main>
        <div class="main1"></div>
            <div class="main2">

                <div class="main-content">
                    <div class="main-content-text">
                        <h1>경상도 인기 관광명소</h1>


                        <div>
                            <span>산악과 해상관광을 함께 누릴 수 있는 경상남도. 통영과 남해를 중심으로 위치한 해상공원은 섬과 바다의 두 가지의 매력을 모두 느낄 수 있어 경상남도 대표 여행지로 손꼽힌다. 봄에는 하얀 눈꽃이 흩날리는 하동벚꽃축제와 순매원 매화축제가, 겨울에는 거제도를 빨갛게 물들이는 동백축제가 열린다. 이외에도 온천여행과 도자기 체험, 딸기 체험 등 다양한 경험이 가능하다.</span>
                        </div>



                    </div>
                    <div class="content1">

                        <div class="s1">
                            <span class="material-symbols-outlined" id="btn1">keyboard_double_arrow_left</span>
                            <div class="slides">

                                <a href="/content/content16">
                                    <img src="https://search.pstatic.net/common/?src=http%3A%2F%2Fblogfiles.naver.net%2FMjAyNDA4MDhfMjY4%2FMDAxNzIzMDc0ODQzNTcy.HRXFpGWeTSA4wA8g9UsshZm-HHJ6GDHb4pG9__mzGd8g.iKriIljgBmVevYN-7RZhFtQAgkTXsOALKmChlbOjT4Mg.JPEG%2FCK_tc02840002578.jpg" alt="">
                                </a>
                                <a href="/content/content16">
                                    <img src="https://search.pstatic.net/common/?src=http%3A%2F%2Fblogfiles.naver.net%2FMjAxNzExMTFfMTM0%2FMDAxNTEwNDA1Mjk4NDgz.NyaclUMtKSOymhSMBaSiTERCPe7wf7Uj0CNjCb1THE8g.ZAVqGQp8ygpPfUzggeBoy2MVlwKsQgCgtUwMsSYk6Hcg.JPEG.wonnycool%2FDSC07140.JPG%233000x1993" alt="">
                                </a>
                                <a href="/content/content16">
                                    <img src="https://search.pstatic.net/common/?src=http%3A%2F%2Fblogfiles.naver.net%2FMjAxNzExMTRfMTUy%2FMDAxNTEwNjY3MjgxMjcw.5jEKL5w0DT_RgqAhV9quFKtbk0WB1CtdpGZejyqfaSwg.397XMqhdVRBiaZ9uqdPnV8Z2IOw9RdLUYy-pQuBZwFYg.JPEG.kimsj812000%2FIMG_1056.JPG%231500x1000" alt="">
                                </a>

                                <a href="/content/content16">
                                    <img src="https://search.pstatic.net/common/?src=http%3A%2F%2Fblogfiles.naver.net%2FMjAyNDA4MDdfMjIx%2FMDAxNzIzMDI3MTkxNDgz.dE9jxJFny0o-qq030q_SZ0RZmYJ_q3GXTFYHdJO13hAg.tBRYEHQreA6dyGgXSjfbKJ03EWG4O-OVAaSxeZjRhZwg.JPEG%2FIMG_1420.JPG" alt="">
                                </a>
                            </div>
                            <span class="material-symbols-outlined" id="btn2">keyboard_double_arrow_right</span>
                            <div class="paginate">
                                <div class="circle"></div>
                                <div class="circle"></div>
                                <div class="circle"></div>
                                <div class="circle"></div>
                            </div>
                        </div>
                        <div class="s1-text">
                            <h2>01.</h2>
                            <div class="s1-text1">
                                <h1>경상남도 수목원</h1>
                            </div>
                            <div class="s1-text2">
                                <span>국내외의 다양한 수종을 전시해 자연학습, 학술연구, 유전자 보존 및 건전한 산림 문화공간을 제공할 목적으로 1993년 4월 5일 도립 반성수목원으로 개원한 뒤, 2000년 2월 지금의 이름으로 바꾸었다. 전체 면적은 56㏊이며, 총 1,500여 종에 10만여 본의 식물이 식재되어 있다. 경상남도산림환경연구원에서 관리한다.
                                    </span>
                                <div><h5>별점 평균</h5>
                                    <div class="average-stars-2" id="rating-1">
                                        <span class="red-star">★</span>
                                        <span class="red-star">★</span>
                                        <span class="red-star">★</span>
                                        <span class="red-star">★</span>
                                        <span class="red-star">★</span>
                                    </div>
                                    <span id="average-rating" th:text="${#numbers.formatDecimal(averageRatings[16L] != null ? averageRatings[16L] : 0.0, 1, 1)}">데이터 없음</span>

                                </div>
                            </div>
                        </div>
                        <span class="material-symbols-outlined" id="btn3">arrow_circle_left</span>
                        <div class="content1-text">
                            <!-- 첫 번째 리뷰 -->
                            <div th:if="${contentReviews.size() > 0}">

                                <p class="review-user"> <span th:text="${contentReviews[0].username}">익명</span></p>
                                <p class="review-star">
                                    <span class="review-star-text" th:each="i : ${#numbers.sequence(1, 5)}"
                                          th:classappend="${i <= contentReviews[0].rating} ? 'filled-star' : 'empty-star'">★</span>
                                </p>
                                <p class="review-content"><span th:text="${contentReviews[0].comment}">리뷰 없음</span></p>
                            </div>

                            <!-- 두 번째 리뷰 -->
                            <div th:if="${contentReviews.size() > 1}">

                                <p class="review-user"> <span th:text="${contentReviews[1].username}">익명</span></p>
                                <p class="review-star">
                                    <span class="review-star-text" th:each="i : ${#numbers.sequence(1, 5)}"
                                          th:classappend="${i <= contentReviews[1].rating} ? 'filled-star' : 'empty-star'">★</span>
                                </p>
                                <p class="review-content"><span   th:text="${contentReviews[1].comment}">리뷰 없음</span></p>
                            </div>

                            <!-- 세 번째 리뷰 -->
                            <div th:if="${contentReviews.size() > 2}">

                                <p class="review-user"><span th:text="${contentReviews[2].username}">익명</span></p>
                                <p class="review-star">
                                    <span class="review-star-text" th:each="i : ${#numbers.sequence(1, 5)}"
                                          th:classappend="${i <= contentReviews[2].rating} ? 'filled-star' : 'empty-star'">★</span>
                                </p>
                                <p class="review-content"><span th:text="${contentReviews[2].comment}">리뷰 없음</span></p>
                            </div>

                            <!-- 네 번째 리뷰 -->
                            <div th:if="${contentReviews.size() > 3}">

                                <p class="review-user"><span th:text="${contentReviews[3].username}">익명</span></p>
                                <p class="review-star">
                                    <span class="review-star-text" th:each="i : ${#numbers.sequence(1, 5)}"
                                          th:classappend="${i <= contentReviews[3].rating} ? 'filled-star' : 'empty-star'">★</span>
                                </p>
                                <p class="review-content"><span  th:text="${contentReviews[3].comment}">리뷰 없음</span></p>
                            </div>
                        </div>
                        <span class="material-symbols-outlined" id="btn4">arrow_circle_right</span>
                    </div>
                    <div class="content2">
                        <a href="/content/content17">
                            <img src="https://search.pstatic.net/common/?src=https%3A%2F%2Fldb-phinf.pstatic.net%2F20160104_222%2F1451872482626b84QL_JPEG%2F176054508461501_0.jpeg" alt="">
                        </a>
                        <div>
                            <h3>02.</h3>
                            <h2>통도사</h2>
                            <h3  style="margin-left: 50px; margin-top: 20px;"><span id="average-rating2" th:text="${#numbers.formatDecimal(averageRatings[17L] != null ? averageRatings[17L] : 0.0, 1, 1)}">데이터 없음</span></h3>
                            <div class="average-stars-2" id="rating-2">
                                <span class="red-star">★</span>
                                <span class="red-star">★</span>
                                <span class="red-star">★</span>
                                <span class="red-star">★</span>
                                <span class="red-star">★</span>
                            </div>
                            <span>한국 3대 사찰의 하나로, 부처의 진신사리(眞身舍利)가 있어 불보(佛寶)사찰이라고도 한다. 사찰의 기록에 따르면 통도사라 한 것은, 이 절이 위치한 산의 모습이 부처가 설법하던 인도 영취산의 모습과 통하므로 통도사라 이름했고(此山之形通於印度靈鷲山形), 또 승려가 되고자 하는 사람은 모두 이 계단(戒壇)을 통과해야 한다는 의미가 있다.</span>
                        </div>
                    </div>
                    <div class="content2">
                        <a href="/content/content18">
                            <img src="https://search.pstatic.net/common/?src=https%3A%2F%2Fldb-phinf.pstatic.net%2F20240904_168%2F1725433795241OY0gp_PNG%2F%25BD%25BA%25C5%25A9%25B8%25B0%25BC%25A6_2024-05-21_%25BF%25C0%25C8%25C4_3.23.02.png" alt="">
                        </a>
                        <div>
                            <h3>03.</h3>
                            <h2>로봇랜드</h2>
                            <h3  style="margin-left: 50px; margin-top: 20px;"><span id="average-rating3" th:text="${#numbers.formatDecimal(averageRatings[18L] != null ? averageRatings[18L] : 0.0, 1, 1)}">데이터 없음</span></h3>
                            <div class="average-stars-2" id="rating-3">
                                <span class="red-star">★</span>
                                <span class="red-star">★</span>
                                <span class="red-star">★</span>
                                <span class="red-star">★</span>
                                <span class="red-star">★</span>
                            </div>
                            <span>세계 최초 로봇 테마파크인 로봇랜드는 온 가족이 함께 즐길 수 있는 놀이기구와 로봇체험, 로봇관람시설로 구성되어 있다. 11개의 로봇 체험실은 기존 테마파크와 차별화되어 관람객들에게 많은 즐거움을 선사한다. 자동차 부품을 정밀하게 조립하는 로봇, 대화를 주고받을 수 있는 인공지능 로봇들이 있다.</span>
                        </div>
                    </div>
                    <div class="content2">
                        <a href="/content/content19">
                            <img src="https://search.pstatic.net/common/?src=https%3A%2F%2Fldb-phinf.pstatic.net%2F20210817_54%2F1629166805894mXv5g_JPEG%2FZg19_zhxKNsclJeV2vVwJh9e.jpg" alt="">
                        </a>
                        <div>
                            <h3>04.</h3>
                            <h2>롯데워터파크</h2>
                            <h3  style="margin-left: 50px; margin-top: 20px;"><span id="average-rating4" th:text="${#numbers.formatDecimal(averageRatings[19L] != null ? averageRatings[19L] : 0.0, 1, 1)}">데이터 없음</span></h3>
                            <div class="average-stars-2" id="rating-4">
                                <span class="red-star">★</span>
                                <span class="red-star">★</span>
                                <span class="red-star">★</span>
                                <span class="red-star">★</span>
                                <span class="red-star">★</span>
                            </div>
                            <span>국내 최고의 익사이팅 스케일, 즐거움도 최대로 줄 수 있는 이국적인 테마 폴리네시안 컨셉의 시원하게 펼쳐진 김해 롯데워터파크에서 다양하고 아찔한 재미까지 느낄수 있다.</span>
                        </div>
                    </div>
                    <div class="content3">
                        <a href="/content/content20">
                            <img src="https://search.pstatic.net/common/?src=http%3A%2F%2Fblogfiles.naver.net%2FMjAxODA3MTZfMTAx%2FMDAxNTMxNzE2NDE2NjY4.kfeDSpXFqRnMjxR5rcChPTkDdzNnmUPR_a6SIyyjY-Yg.6R5mWCtVzI8BPo5vXA478pBd9Fkzjrxd-m89HzAJvCcg.JPEG.leebreak%2FDSC00592.jpg%231600x1067" alt="">
                        </a>
                        <div>
                            <h3>05.</h3>
                            <h2>표충사</h2>
                            <h3  style="margin-left: 50px; margin-top: 20px;"><span id="average-rating5" th:text="${#numbers.formatDecimal(averageRatings[20L] != null ? averageRatings[20L] : 0.0, 1, 1)}">데이터 없음</span></h3>
                            <div class="average-stars-2" id="rating-5">
                                <span class="red-star">★</span>
                                <span class="red-star">★</span>
                                <span class="red-star">★</span>
                                <span class="red-star">★</span>
                                <span class="red-star">★</span>
                            </div>
                            <span>경상남도 기념물 제17호인 표충사는 임진왜란 때 공을 세운 사명대사(四溟大師)의 충혼을 기리기 위하여 국가에서 명명한 절이다. 1715년(숙종 41)에 중건한 사실이 있으나 1926년에 응진전(應眞殿)을 제외한 모든 건물이 화재로 소실된 것을 재건하여 오늘에 이르고 있다.</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <th:block th:replace="~{fragments/footer :: footerFragment}"></th:block>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const slides = document.querySelectorAll('.slides img');
            const buttons = document.querySelectorAll('.paginate .circle');
            const btnPrev = document.getElementById('btn1');
            const btnNext = document.getElementById('btn2');

            let currentIndex = 0;
            function updateSlide(index) {
                slides.forEach((slide, i) => slide.style.display = i == index ? 'block' : 'none');
                buttons.forEach((button, i) => button.classList.toggle('selected' , i ===index));

            }
            function showNextSlide() {

                currentIndex = (currentIndex + 1) % slides.length;
                updateSlide(currentIndex);

            }
            function showPrevSlide() {

                currentIndex = (currentIndex - 1 + slides.length) % slides.length;
                updateSlide(currentIndex);
            }
            btnNext.addEventListener('click', showNextSlide);
            btnPrev.addEventListener('click', showPrevSlide);

            buttons.forEach((button, i)=>{
                button.addEventListener('click', () => {
                    currentIndex = i;
                    updateSlide(currentIndex);

                });
            });

            //Initialize the first slide
            updateSlide(currentIndex);

            const contentText = document.querySelector('.content1-text');
            const contentDivs = contentText.querySelectorAll('div');
            const btnLeft = document.getElementById('btn3');
            const btnRight = document.getElementById('btn4');

            let currentContentIndex = 0;

            btnLeft.addEventListener('click' , function () {
                if(currentContentIndex > 0) {

                    currentContentIndex--;

                }
                updateContentSlide();
            });

            btnRight.addEventListener('click',function(){
                if(currentContentIndex <contentDivs.length - 2) {
                    currentContentIndex++;

                }
                updateContentSlide();
            });
            function updateContentSlide() {
                const slideWidth = contentDivs[0].offsetWidth;
                contentText.style.transform = `translateX(${-currentContentIndex * slideWidth+60}px)`;

            }
            updateContentSlide();


        });

            <!-- 동적으로 만든 별점-->
                document.addEventListener('DOMContentLoaded', function () {
                    // 별점 컨테이너와 별점 값 매핑
                    const ratings = [
                        { id: 'rating-1', value: parseFloat(document.querySelector('#average-rating')?.textContent.trim()) || 0 },
                        { id: 'rating-2', value: parseFloat(document.querySelector('#average-rating2')?.textContent.trim()) || 0 },
                        { id: 'rating-3', value: parseFloat(document.querySelector('#average-rating3')?.textContent.trim()) || 0 },
                        { id: 'rating-4', value: parseFloat(document.querySelector('#average-rating4')?.textContent.trim()) || 0 },
                        { id: 'rating-5', value: parseFloat(document.querySelector('#average-rating5')?.textContent.trim()) || 0 }
                    ];

                    // 각 컨테이너의 별점 색칠
                    ratings.forEach(({ id, value }) => {

                        console.log(`ID: ${id}, Value: ${value}`);

                        const container = document.getElementById(id);
                        if (!container) {
                            console.error(`Container with ID "${id}" not found.`);
                            return;
                        }

                        const stars = container.querySelectorAll('.red-star');
                        stars.forEach((star, index) => {
                            const starValue = index + 1;
                            if (value >= starValue) {
                                star.style.color = 'gold'; // 빨간 별
                            } else if (value > starValue - 1) {
                                // 반쪽 별
                                star.style.color = 'gold';
                                star.style.background = 'linear-gradient(to right, gold 50%, lightgray 50%)';
                                star.style.webkitBackgroundClip = 'text';
                                star.style.webkitTextFillColor = 'transparent';
                            } else {
                                star.style.color = 'lightgray'; // 회색 별
                            }
                        });
                    });
                });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // 별점 생성 및 적용 함수
            function createAndApplyStars(containerSelector, averageRating) {
                const container = document.querySelector(containerSelector);
                if (!container) {
                    console.error(`Container ${containerSelector} not found`);
                    return;
                }

                // 별점 초기화 및 생성
                container.innerHTML = '';
                for (let i = 1; i <= 5; i++) {
                    const star = document.createElement('span');
                    star.classList.add('red-star');
                    star.textContent = '★';

                    // 별 색상 설정
                    if (averageRating >= i) {
                        star.style.color = 'gold'; // 빨간 별
                    } else if (averageRating > i - 1) {
                        // 반쪽 별 처리
                        star.style.color = 'gold';
                        star.style.background = 'linear-gradient(to right, gold 50%, lightgray 50%)';
                        star.style.webkitBackgroundClip = 'text';
                        star.style.webkitTextFillColor = 'transparent';
                    } else {
                        star.style.color = 'lightgray'; // 기본 별
                    }

                    container.appendChild(star);
                }
            }

            // 평균 별점 가져오기 및 적용
            const averageRatingElement = document.getElementById('average-rating'); // ID 선택
            if (averageRatingElement) {
                const averageRating = parseFloat(averageRatingElement.textContent.trim()) || 0;
                console.log("평균 별점:", averageRating); // 디버깅용 로그
                createAndApplyStars('.average-stars-2', averageRating);
            } else {
                console.error("평균 별점을 가져올 수 없습니다.");
            }
        });
    </script>

</body>
</html>